<!doctype html>
<html lang="es-MX">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="/assets/css/styles.css">
  <link rel="shortcut icon" href="/assets/icon.png" type="image/x-icon">
  <link rel="shortcut icon" href="/assets/icon_large.png" type="image/png">

  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-144585764-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-144585764-1');
  </script>
  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>How I wrote a D&amp;D adventure using Emacs | General nerdness</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="How I wrote a D&amp;D adventure using Emacs" />
<meta name="author" content="Anya Reyes" />
<meta property="og:locale" content="en_GB" />
<meta name="description" content="I just published a D&amp;D adventure and I wrote it just using Emacs… kind of." />
<meta property="og:description" content="I just published a D&amp;D adventure and I wrote it just using Emacs… kind of." />
<link rel="canonical" href="https://anya.reyescon.de/2020/09/05/adventure-writing.html" />
<meta property="og:url" content="https://anya.reyescon.de/2020/09/05/adventure-writing.html" />
<meta property="og:site_name" content="General nerdness" />
<meta property="og:image" content="https://anya.reyescon.de/assets/2020-08-16/2020-08-16-Arcane-Moon.png" />
<meta property="og:image:height" content="1280" />
<meta property="og:image:width" content="1920" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-09-05T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://anya.reyescon.de/assets/2020-08-16/2020-08-16-Arcane-Moon.png" />
<meta property="twitter:title" content="How I wrote a D&amp;D adventure using Emacs" />
<meta name="twitter:site" content="@darkade" />
<meta name="twitter:creator" content="@Anya Reyes" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Anya Reyes"},"dateModified":"2020-09-05T00:00:00+00:00","datePublished":"2020-09-05T00:00:00+00:00","description":"I just published a D&amp;D adventure and I wrote it just using Emacs… kind of.","headline":"How I wrote a D&amp;D adventure using Emacs","image":{"width":1920,"height":1280,"url":"https://anya.reyescon.de/assets/2020-08-16/2020-08-16-Arcane-Moon.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://anya.reyescon.de/2020/09/05/adventure-writing.html"},"url":"https://anya.reyescon.de/2020/09/05/adventure-writing.html"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
  <header>
  <nav class="navbar navbar-dark bg-primary navbar-expand-lg">
    <div class="container-fluid">
      <span class="navbar-text w-50">
        <a class="" href="/">General nerdness</a>
        <span class="d-none d-md-block text-white text-bold"><small>Anya Reyes – Maths, RPGs, Boardgames &amp; Coding.</small></span>
      </span>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggle">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarToggle">
        <ul class="navbar-nav mb-2 mb-lg-0 ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/about/">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/links/">Links</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/directory/">Directory</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

  <main class="container">
    <div class="row">
  <div class="offset-md-2 col-md-8 py-2">
    <article class="row py-1" lang="en-GB">
  <div class="col">
    <h1 class="my-2 h2"><a href="/2020/09/05/adventure-writing.html">How I wrote a D&amp;D adventure using Emacs</a></h1>
    <p class="text-end">Sep 05, 2020</p>

    <div class="row">
      <div class="col">
        <p><img src="/assets/2020-08-16/2020-08-16-Arcane-Moon.png" alt="Arcane Moon is now available!"></p>

<p>Emacs &amp; org-mode is the definitive writing experience, it allowed me to organize my process, write, export to PDF and quickly make revisions. Yes, I am a developer, and yes Emacs is my <strong>IDE</strong> of choice, however, even if you are not, I think there’s a lot you can get out of using emacs, though it will take a large-ish amount of setup.</p>

<!--more-->

<hr>

<p><a href="https://bit.ly/ArcaneMoon" target="_blank" rel="noopener noreferrer"><img src="/assets/2020-08-16/FullAdventure.png" alt="Arcane Moon Adventure"></a>
<em>Arcane Moon was made in Emacs</em></p>

<p>So After the click-batty title, did I really only used Emacs to write <a href="https://bit.ly/ArcaneMoon" target="_blank" rel="noopener noreferrer">Arcane Moon</a>? well kind of. I could have just used Emacs and org-mode, but I used some other tools to round up the process; since you are probably here for the tool list, here’s what you’ll need if you want to do the same:</p>

<p><strong>If you want a barebones adventure output, you need:</strong></p>
<ul>
  <li><a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener noreferrer">Emacs + org-mode</a></li>
  <li><a href="https://github.com/rpgtex/DND-5e-LaTeX-Template" target="_blank" rel="noopener noreferrer">The DnD 5e LaTeX Template github repo</a></li>
  <li><a href="https://www.latex-project.org/get/" target="_blank" rel="noopener noreferrer">A LaTeX environment</a></li>
</ul>

<p><strong>If you want to have a cover:</strong></p>
<ul>
  <li><a href="https://spark.adobe.com/" target="_blank" rel="noopener noreferrer">Adobe spark</a></li>
  <li>Preview or a similar PDF viewer with minimal editing functionality</li>
</ul>

<p><strong>If you want to add maps:</strong></p>
<ul>
  <li><a href="https://dungeondraft.net/" target="_blank" rel="noopener noreferrer">Dungeondraft</a></li>
  <li><a href="https://krita.org/en/" target="_blank" rel="noopener noreferrer">Krita</a></li>
</ul>

<p><strong>If you want to have spot art:</strong></p>
<ul>
  <li>A LaTeX editor</li>
  <li>And spot art assets</li>
</ul>

<p><strong>If you want to collaborate with a proof reader:</strong></p>
<ul>
  <li>Google docs</li>
</ul>

<p>I’m not here to teach you how to install or use these tools, there’s plenty of <a href="https://orgmode.org/" target="_blank" rel="noopener noreferrer">tutorials</a> on that, but I will tell you how I used them.</p>

<h2 id="barebones-adventure-output">Barebones Adventure Output</h2>

<p><img src="/assets/2020-08-16/emacs.png" alt="Arcane Moon on Emacs">
<em>Arcane Moon on Emacs</em></p>

<p>Emacs, and more precisely org-mode was the central tool for everything. I used it to:</p>

<h3 id="outline-my-adventure">Outline my adventure</h3>
<p>I began by adding sections I wanted to have. Arcane Moon is divided in the credits, the introduction, the adventure and additional information.</p>

<h3 id="schedule-my-tasks">Schedule my tasks</h3>
<p>Tracking when I wanted to get things done, scheduling and being aware of time constraints helps me to bring out the creative energy. Org-mode is amazing at <a href="https://orgmode.org/guide/Dates-and-Times.html" target="_blank" rel="noopener noreferrer">scheduling</a> using it’s <code class="language-plaintext highlighter-rouge">agenda-mode</code>.</p>

<p>You can add a deadline by using the command <code class="language-plaintext highlighter-rouge">C-c C-d</code> or a simple time stamp by using <code class="language-plaintext highlighter-rouge">C-c .</code>. After you can see your agenda with <code class="language-plaintext highlighter-rouge">C-c a</code></p>

<h3 id="mark-different-states-of-completion">Mark different states of completion</h3>

<p>You can always mark things as <code class="language-plaintext highlighter-rouge">DONE</code> and <code class="language-plaintext highlighter-rouge">TODO</code>. But configuring other <a href="https://orgmode.org/guide/TODO-Basics.html" target="_blank" rel="noopener noreferrer">states of completition</a> is very straight forward.</p>

<p>The basic ones were enough for me. I used them to keep track of the <em>phase</em> the project was in: at the start of drafting every heading was <code class="language-plaintext highlighter-rouge">TODO</code>, by the end they were <code class="language-plaintext highlighter-rouge">DONE</code>. At the start of proof reading everything was <code class="language-plaintext highlighter-rouge">TODO</code> by the end <code class="language-plaintext highlighter-rouge">DONE</code></p>

<p>The main reason I used a <em>plain text</em> editor is not worrying about layout until I <strong>needed</strong> to worry about layout. I find thinking about typography and such to be distracting. I wouldn’t recommend using Word, Pages, or Google Docs for this reason.</p>

<p>But eventually I did had to worry about layout, and I needed to export to PDF. And I used Latex to achieve this.</p>

<h3 id="exporting-to-pdf">Exporting to PDF</h3>

<p>After you installing my preferred <a href="https://www.latex-project.org/get/" target="_blank" rel="noopener noreferrer">latex</a> distribution <a href="https://orgmode.org/manual/LaTeX-Export.html" target="_blank" rel="noopener noreferrer">exporting</a> from org to PDF by using <code class="language-plaintext highlighter-rouge">C-c C-e l p</code> was mostly painless. However, the default export settings are lacking, to say the least.</p>

<p><img src="/assets/2020-08-16/FullAdventureNoClass.jpg" alt="Exporting Adventure without a theme">
<em>Exporting Adventure without a theme</em></p>

<p>For one, it looks nothing like a D&amp;D book. So, I used the <a href="https://github.com/rpgtex/DND-5e-LaTeX-Template" target="_blank" rel="noopener noreferrer">DnD 5e LaTeX Template</a> from Brian Criswell. To configure <code class="language-plaintext highlighter-rouge">org-mode</code> to use it just add this to your <code class="language-plaintext highlighter-rouge">.emacs</code> file:</p>

<div class="language-lisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">;; Latex D&amp;D https://github.com/rpgtex/DND-5e-LaTeX-Template</span>
<span class="p">(</span><span class="nv">with-eval-after-load</span> <span class="ss">'ox-latex</span>
   <span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'org-latex-classes</span>
                <span class="o">'</span><span class="p">(</span><span class="s">"dndbook"</span>
                  <span class="s">"\\documentclass{dndbook}"</span>
                  <span class="p">(</span><span class="s">"\\part\{\%s}"</span> <span class="o">.</span> <span class="s">"\\part*\{\%s}"</span><span class="p">)</span>
            		  <span class="p">(</span><span class="s">"\\chapter\{\%s}"</span> <span class="o">.</span> <span class="s">"\\chapter*\{\%s}"</span><span class="p">)</span>
                  <span class="p">(</span><span class="s">"\\section\{\%s}"</span> <span class="o">.</span> <span class="s">"\\section*\{\%s}"</span><span class="p">)</span>
                  <span class="p">(</span><span class="s">"\\subsection\{\%s}"</span> <span class="o">.</span> <span class="s">"\\subsection*\{\%s}"</span><span class="p">)</span>
                  <span class="p">(</span><span class="s">"\\subsubsection\{\%s}"</span> <span class="o">.</span> <span class="s">"\\subsubsection*\{\%s}"</span><span class="p">))))</span>
</code></pre></div></div>

<p>And then add this to the top of your work file on Emacs:</p>

<pre><code class="language-org">#+latex_class: dndbook
#+latex_class_options: [10pt,letterpaper,twocolumn,twoside,openany,nodeprecatedcode]
#+latex_header: \usepackage[english]{babel} \usepackage{titlesec}
#+latex_header_extra: \hypersetup{colorlinks=true, urlcolor=blue, linkcolor=blue, citecolor=red, PDFborder={0 0 0}}
#+latex_compi`ler: PDFlatex

#+OPTIONS: todo:nil
#+OPTIONS: toc:nil
#+OPTIONS: title:nil

#+title:
#+author:
#+email:
#+language: en
#+description:
#+keywords:
#+subtitle:
#+date: \today
</code></pre>

<p>Fill it as you see fit and then try exporting again with <code class="language-plaintext highlighter-rouge">C-c C-e l p</code>. Now it should look the way we want, like a proper D&amp;D book!</p>

<p>Try and play commenting some of the lines you added to the <code class="language-plaintext highlighter-rouge">.emacs</code> file. If you remove the <code class="language-plaintext highlighter-rouge">("\\part\{\%s}" . "\\part*\{\%s}")</code> then the top level of your tree will render as the chapter headings, and so on.</p>

<p>Other things you could do is use the helpers from the DnD 5e LaTeX Template, like <code class="language-plaintext highlighter-rouge">DndComment</code>, <code class="language-plaintext highlighter-rouge">DndReadAloud</code> and <code class="language-plaintext highlighter-rouge">DndSidebar</code> these will very easily add some asides, and boxes that we all know are useful.</p>

<p>You can learn more about these in the documentation, but that’s for Latex directly. To use them in Emacs try this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#+BEGIN_DndComment
This will show up as a Dungeons &amp; Dragons comment
#+END_DndComment
</code></pre></div></div>

<p>Capitalization is important! If you want to use other helpers you can use <code class="language-plaintext highlighter-rouge">#+BEGIN_DndComment</code>, <code class="language-plaintext highlighter-rouge">#+BEGIN_ReadAloud</code> or <code class="language-plaintext highlighter-rouge">#+BEGIN_DndSidebar</code> as you require.</p>

<p>The template also includes a <code class="language-plaintext highlighter-rouge">DndMonster</code> helper, which there’s not easy “org-way” to use. But you can embed LaTeX text directly on your document, so it’s still usable with out doing more.</p>

<p><img src="/assets/2020-08-16/FullAdventureDnD.png" alt="Full Adventure with the DnD 5e template">
<em>Full Adventure with the DnD 5e template</em></p>

<p>These is pretty much the configuration I used and you could leave it there. However if you want a proper adventure book with have art and a resonably decent layout keep on reading.</p>

<h2 id="adding-a-cover">Adding a cover</h2>

<p><a href="https://bit.ly/ArcaneMoon" target="_blank" rel="noopener noreferrer"><img src="/assets/2020-08-16/ArcaneMoonCover.png" alt="Arcane Moon Cover"></a></p>

<p>I made my cover using stock art by <a href="https://www.drivethrurpg.com/browse/pub/8587/Rian-Trost-RPG-Stock-Art" target="_blank" rel="noopener noreferrer">Rian Trost</a> and Adobe Spark. Spark has templates, and pre configured sizes you can use for print and digital that will get you quickly to a decent cover. The other advantage is that you can resize and spark will redistribute for you; so I also use it for my social media posts, including this article’s cover.</p>

<p>Once I was satisfied with my cover I download it as a PNG file. And using macOS’ Preview I opened both the cover and the PDF export, then just dragged the cover thumbnail to your pdf export. Save and then I was done!</p>

<h2 id="adding-maps">Adding maps</h2>

<p>I used <a href="https://dungeondraft.net/" target="_blank" rel="noopener noreferrer">Dungeondraft</a> to make my maps. And I think they came out pretty cool. Dungeondraft is a whole thing, but my recommendation is to get familiar with the “levels” and “layers” and understanding those are different things.</p>

<p>Be aware during export you can overlay two levels, but only two. In my case I did the grass and stone walk on one level, and for all subsequent levels I only did the tower floors; then I used the bottom layer and exported the other levels over. It’s confusing, but if you plan to make a layered dungeon you’ll save yourself a ton of work.</p>

<p><img src="/assets/2020-08-16/Dungeondraft.png" alt="Exporting using Dungeondraft">
<em>Exporting using Dungeondraft</em></p>

<p>After the export I used <a href="https://krita.org/en/" target="_blank" rel="noopener noreferrer">Krita</a> to add some number markers to reference in my text and to resize as thumbnails; make sure to make copies of the original!</p>

<p>This should suffice to put the images in your org work file, and have them be a part of the PDF export. I used this snippet to add the maps to the adventure, but I could have also embed Latex if I needed more options.</p>

<pre><code class="language-org">#+CAPTION: your caption text
#+NAME: fig:C2E2
[[./maps/thumbs/C2E2_001.jpg]]
</code></pre>

<p>Notice you’ll have to use your own maps path, for me it was <code class="language-plaintext highlighter-rouge">./maps/thumbs</code> for you will be different.</p>

<p>Finally if you are interested in Dungeondraft and cartography in general I recommend following <a href="https://twitter.com/TheAbeilQueen" target="_blank" rel="noopener noreferrer">@TheAbeilQueen</a> on twitter.</p>

<h2 id="adding-spot-art">Adding spot art</h2>

<p>Another option to add art is editing the <code class="language-plaintext highlighter-rouge">.tex</code> file that the export is generating. This file is used as a step to get the final PDF and to edit it you need a Tex editor, which should be included with your LaTeX distribution; in my case it’s TeXShop.</p>

<p>In TeXShop I find the place I wanted the art to be placed at, then I used a similar snippet as this:</p>

<div class="language-tex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{figure}</span>[h]
<span class="k">\centering</span>
<span class="k">\includegraphics</span><span class="na">[width=.9\linewidth]</span><span class="p">{</span>./assets/accents/line1.png<span class="p">}</span>
<span class="nt">\end{figure}</span>
</code></pre></div></div>

<p>The reason I did this on the <code class="language-plaintext highlighter-rouge">.tex</code> file instead of my org file is because I wanted more control over placing in the layout.</p>

<p>Again, make sure you have the right path to the image you want to include. In this example it’s <code class="language-plaintext highlighter-rouge">./assets/accents</code> which was my spot art dir. Notice I’ve added a <code class="language-plaintext highlighter-rouge">width=.9</code> so that it doesn’t occupy the same space as the text.</p>

<p>Finally notice the <code class="language-plaintext highlighter-rouge">[h]</code> it stands for <em>“here”.</em> So once you export to PDF the image will be paced roughly <em>“there”.</em> There are <a href="https://www.overleaf.com/learn/latex/Positioning_of_Figures" target="_blank" rel="noopener noreferrer">many options</a> and you should try the ones that fit each need.</p>

<p><img src="/assets/2020-08-16/spotart.png" alt="The spot art for one of the corners">
<em>The spot art for one of the corners</em></p>

<p>If you want to use the art to make a page break a simple hack is to tweak the <code class="language-plaintext highlighter-rouge">width=</code> parameter, a little bit more or less to force the text to break.</p>

<p>There’s plenty you can do editing the <code class="language-plaintext highlighter-rouge">.tex</code> file. You could even write your adventure directly here, but I don’t recommend doing that; it will quickly become cumbersome and unreadable without exporting.</p>

<h2 id="collaborating-with-a-proof-reader">Collaborating with a proof reader</h2>

<p>This is hacky at best and not practical at worst, so I don’t really recommend doing it like this, but it did work for me, so it might work for you.</p>

<p>I exported my file to ODT from emacs with <code class="language-plaintext highlighter-rouge">C-c C-e o o</code> which produces an ODT I then uploaded to Google Drive to edit with Google Docs. My editor uses comments and the suggestion mode, and on my side I manually kept the org file up to date so I didn’t had to re-upload the file.</p>

<p>As I said it’s hacky at best, but it did work for me.</p>

<hr>

<p>Thank you for reading this post! It’s my first english post but I think it was worth it to talk about the tools I used to bring <a href="https://bit.ly/ArcaneMoon" target="_blank" rel="noopener noreferrer">Arcane Moon</a> to life.</p>

<p>I normally write in Spanish, and if you do read Spanish you can check my post on a mathematical analysis of the <a href="/2020/04/25/bag-of-holding.html">Bag of Holding</a>. Or how we play <a href="/2020/04/05/dnd-online.html">D&amp;D online</a> or my first two sessions on solo <a href="/2020/04/01/Ironsworn-pt1.html">Ironsworn</a>.</p>

<!--Images-->

<!--Credits-->

<!--Internal-Links-->

<!--External-Links-->

      </div>
    </div>

    <p class="text-end font-italic">– Anya Reyes</p>
  </div>
  <script src="https://giscus.app/client.js" data-repo="Darkade/Darkade.github.io-comments" data-repo-id="R_kgDOIuNbEA" data-category="Announcements" data-category-id="DIC_kwDOIuNbEM4CTaKd" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="light_protanopia" data-lang="en" data-loading="lazy" crossorigin="anonymous" async>
</script>

</article>

  </div>
</div>

  </main>
  <footer class="container mt-3">
  <hr class="mb-3">
  <div class="row">
    <div class="col d-flex">
      <ul class="list-inline mx-auto justify-content-center">
        <li class="list-inline-item">
          <a rel="me noopener noreferrer" href="https://dice.camp/@darkade" target="_blank">
            <svg class="icon"><use xlink:href="/assets/sprites/brands.svg#mastodon"></use></svg>
          </a>
        </li>
        <li class="list-inline-item">
          <a href="https://twitter.com/darkade" target="_blank" rel="noopener noreferrer">
            <svg class="icon"><use xlink:href="/assets/sprites/brands.svg#twitter"></use></svg>
          </a>
        </li>
        <li class="list-inline-item">
          <a href="https://github.com/darkade" target="_blank" rel="noopener noreferrer">
            <svg class="icon"><use xlink:href="/assets/sprites/brands.svg#github"></use></svg>
          </a>
        </li>
        <li class="list-inline-item">
          <a href="https://www.linkedin.com/in/" target="_blank" rel="noopener noreferrer">
            <svg class="icon"><use xlink:href="/assets/sprites/brands.svg#linkedin-in"></use></svg>
          </a>
        </li>
        <li class="list-inline-item">
          <a href="/feed.xml">
            <svg class="icon"><use xlink:href="/assets/sprites/solid.svg#rss"></use></svg>
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <p class="text-center">©2023 Anya Reyes. All rights reserved.</p>
    </div>
  </div>
</footer>

  <!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

</body>
</html>
